@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light;
  }

  body {
    @apply min-h-screen bg-gradient-to-b from-[#f8f9fc] to-[#eef1f8] font-sans text-brand-dark antialiased;
  }

  #root {
    @apply min-h-screen bg-transparent;
  }

  button {
    @apply cursor-pointer;
  }
}

body.is-resizing * {
  cursor: col-resize !important;
  user-select: none !important;
}

@keyframes composerShimmer {
  0% {
    transform: translateX(-120%);
  }

  100% {
    transform: translateX(140%);
  }
}

@keyframes composerPulse {
  0%,
  100% {
    opacity: 0.35;
  }

  50% {
    opacity: 0.7;
  }
}

@keyframes composerDot {
  0%,
  80%,
  100% {
    transform: scale(0.6);
    opacity: 0.4;
  }

  40% {
    transform: scale(1);
    opacity: 1;
  }
}

@layer components {
  .glass-card {
    @apply rounded-3xl border border-white/60 bg-white/70 shadow-card backdrop-blur;
  }

  .pill {
    @apply inline-flex items-center rounded-full border border-brand-primary/20 bg-brand-primary/10 px-2 text-xs font-semibold uppercase tracking-wide text-brand-primary;
  }

  .muted {
    @apply text-sm text-slate-500;
  }

  .composer-sending-overlay {
    @apply pointer-events-none absolute inset-0 flex items-center justify-center overflow-hidden rounded-3xl border border-brand-primary/40 bg-white/80 backdrop-blur-sm;
  }

  .composer-sending-overlay__sheen {
    @apply absolute inset-y-0 -left-full h-full w-1/2 bg-gradient-to-r from-transparent via-[#e21d38]/40 to-transparent;
    animation: composerShimmer 1.6s ease-in-out infinite;
  }

  .composer-sending-overlay__content {
    @apply relative z-10 flex items-center gap-3 rounded-2xl bg-white/70 px-4 py-2 shadow;
    animation: composerPulse 2.4s ease-in-out infinite;
  }

  .composer-sending-overlay__dots {
    @apply flex items-center gap-1;
  }

  .composer-sending-overlay__dot {
    @apply h-2 w-2 rounded-full bg-brand-primary;
    animation: composerDot 0.9s ease-in-out infinite;
  }

  .composer-sending-overlay__dot:nth-child(2) {
    animation-delay: 0.15s;
  }

  .composer-sending-overlay__dot:nth-child(3) {
    animation-delay: 0.3s;
  }

  .composer-sending-overlay__label {
    @apply text-sm font-semibold uppercase tracking-[0.3em] text-brand-primary;
    letter-spacing: 0.2em;
  }

  .markdown-content {
    @apply space-y-3 text-sm leading-relaxed text-slate-700;
  }

  .markdown-content h1 {
    @apply text-2xl font-semibold text-slate-800;
  }

  .markdown-content h2 {
    @apply text-xl font-semibold text-slate-800;
  }

  .markdown-content h3 {
    @apply text-lg font-semibold text-slate-800;
  }

  .markdown-content h4 {
    @apply text-base font-semibold text-slate-800;
  }

  .markdown-content p {
    @apply text-sm leading-relaxed text-slate-700;
  }

  .markdown-content ul,
  .markdown-content ol {
    @apply ml-6 space-y-1 text-sm leading-relaxed text-slate-700;
  }

  .markdown-content ul {
    @apply list-disc;
  }

  .markdown-content ol {
    @apply list-decimal;
  }

  .markdown-content blockquote {
    @apply border-l-4 border-brand-primary/40 bg-brand-primary/5 px-4 py-2 text-slate-700;
  }

  .markdown-content pre {
    @apply overflow-x-auto rounded-2xl bg-slate-900 px-4 py-3 text-sm text-white shadow-inner;
  }

  .markdown-content code {
    @apply rounded bg-slate-900/10 px-1.5 py-0.5 font-mono text-[0.85em] text-slate-900;
  }

  .markdown-content pre code {
    @apply bg-transparent p-0 text-inherit;
  }

  .markdown-content table {
    @apply w-full table-auto border-collapse overflow-hidden rounded-2xl text-sm text-slate-700;
  }

  .markdown-content th {
    @apply bg-slate-900/80 px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-white;
  }

  .markdown-content td {
    @apply border border-slate-200/70 px-3 py-2;
  }

  .markdown-content a {
    @apply font-semibold text-brand-primary underline underline-offset-2 transition hover:text-brand-primary/80;
  }
}
